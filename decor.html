<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Furniture Shop | DecoraÃ§Ã£o</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
    <div class="logo">FURNITURE SHOP</div>

    <nav class="nav-center">
        <a href="shop-all.html">SHOP ALL</a>
        <a href="decor.html">DECOR</a>
        <a href="office.html">OFFICE</a>
        <a href="living-room.html">LIVING ROOM</a>
        <a href="bedroom.html">BEDROOM</a>
    </nav>

    <nav class="nav-right">
        <a href="story.html">STORY</a>
        <a href="contact.html">CONTACT</a>
        <a href="track-order.html">TRACK ORDER</a>
        <a href="help.html">HELP</a>
        <a href="login.html" id="loginBtn">LOGIN</a>
        <span class="cart-icon" id="cartIcon">ðŸ›’ <span id="cartCount">0</span></span>
    </nav>
</header>

<section class="produtos-container">
    <aside class="sidebar">
        <h3>FILTROS DECORAÃ‡ÃƒO</h3>

        <label>Tipo</label>
        <select id="typeFilter">
            <option value="all">Todos</option>
            <option value="Vaso">Vasos</option>
            <option value="Quadro">Quadros</option>
            <option value="Vela">Velas</option>
            <option value="Espelho">Espelhos</option>
            <option value="Tapete">Tapetes</option>
        </select>

        <label>PreÃ§o</label>
        <select id="priceFilter">
            <option value="all">Todos os PreÃ§os</option>
            <option value="0-30">0 â‚¬ â€“ 30 â‚¬</option>
            <option value="30-60">30 â‚¬ â€“ 60 â‚¬</option>
            <option value="60-100">60 â‚¬ â€“ 100 â‚¬</option>
            <option value="100+">100 â‚¬ +</option>
        </select>

        <div style="margin-top: 20px;">
            <label>
                <input type="checkbox" id="saleFilter"> Apenas PromoÃ§Ãµes
            </label>
        </div>
    </aside>

    <div>
        <div style="margin-bottom: 30px;">
            <h2 style="font-size: 28px; margin-bottom: 10px;">DecoraÃ§Ã£o</h2>
            <p style="color: #666;">Adicione personalidade Ã  sua casa</p>
            <p id="productCount" style="color: #666; margin-top: 10px;"></p>
        </div>
        <div class="produtos-grid" id="productsGrid">
            <!-- Produtos serÃ£o inseridos aqui -->
        </div>
    </div>
</section>

<!-- CART MODAL -->
<div id="cartModal" class="modal">
    <div class="modal-content cart-modal-content">
        <span class="close" id="closeCart">&times;</span>
        <h2>Carrinho de Compras</h2>
        <div id="cartItems"></div>
        <div class="cart-total">
            <strong>Total: â‚¬<span id="cartTotal">0.00</span></strong>
        </div>
        <button class="hero-btn" style="width: 100%; margin-top: 20px;" onclick="window.location.href='checkout.html'">Finalizar Compra</button>
    </div>
</div>

<script src="js/products.js"></script>
<script src="js/cart.js"></script>
<script src="js/auth.js"></script>
<script>
function renderProducts() {
    const grid = document.getElementById('productsGrid');
    const priceFilter = document.getElementById('priceFilter').value;
    const saleFilter = document.getElementById('saleFilter').checked;
    const productCount = document.getElementById('productCount');

    // Filtrar por categoria
    let filtered = products.filter(p => p.category === 'Decor');

    // Filtrar por preÃ§o
    if (priceFilter !== 'all') {
        if (priceFilter === '0-30') {
            filtered = filtered.filter(p => p.price <= 30);
        } else if (priceFilter === '30-60') {
            filtered = filtered.filter(p => p.price > 30 && p.price <= 60);
        } else if (priceFilter === '60-100') {
            filtered = filtered.filter(p => p.price > 60 && p.price <= 100);
        } else if (priceFilter === '100+') {
            filtered = filtered.filter(p => p.price > 100);
        }
    }

    // Filtrar por promoÃ§Ã£o
    if (saleFilter) {
        filtered = filtered.filter(p => p.sale);
    }

    // Atualizar contador
    productCount.textContent = `${filtered.length} produto${filtered.length !== 1 ? 's' : ''}`;

    // Renderizar
    grid.innerHTML = filtered.map(product => `
        <div class="card-produto" onclick="window.location.href='product.html?id=${product.id}'">
            ${product.sale ? '<span class="tag-sale">SALE</span>' : ''}
            <img src="${product.image}" alt="${product.name}">
            <h3>${product.name}</h3>
            <p>â‚¬${product.price.toFixed(2)}</p>
        </div>
    `).join('');
}

// Event listeners
document.getElementById('priceFilter').addEventListener('change', renderProducts);
document.getElementById('saleFilter').addEventListener('change', renderProducts);

// Renderizar ao carregar
renderProducts();
</script>

</body>
</html>