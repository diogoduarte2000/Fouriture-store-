<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Furniture Shop | Sala de Estar</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>

<header class="header">
    <div class="logo">FURNITURE SHOP</div>

    <nav class="nav-center">
        <a href="shop-all.html">SHOP ALL</a>
        <a href="decor.html">DECOR</a>
        <a href="office.html">OFFICE</a>
        <a href="living-room.html">LIVING ROOM</a>
        <a href="bedroom.html">BEDROOM</a>
    </nav>

    <nav class="nav-right">
        <a href="story.html">STORY</a>
        <a href="contact.html">CONTACT</a>
        <a href="track-order.html">TRACK ORDER</a>
        <a href="help.html">HELP</a>
        <a href="login.html" id="loginBtn">LOGIN</a>
        <span class="cart-icon" id="cartIcon">üõí <span id="cartCount">0</span></span>
    </nav>
</header>

<section class="produtos-container">
    <aside class="sidebar">
        <h3>FILTROS SALA</h3>

        <label>Tipo</label>
        <select id="typeFilter">
            <option value="all">Todos</option>
            <option value="Sof√°">Sof√°s</option>
            <option value="Cadeira">Cadeiras</option>
            <option value="Mesa">Mesas</option>
            <option value="Candeeiro">Candeeiros</option>
        </select>

        <label>Estilo</label>
        <select id="styleFilter">
            <option value="all">Todos</option>
            <option value="Moderno">Moderno</option>
            <option value="Cl√°ssico">Cl√°ssico</option>
            <option value="Minimalista">Minimalista</option>
        </select>

        <label>Pre√ßo</label>
        <select id="priceFilter">
            <option value="all">Todos os Pre√ßos</option>
            <option value="0-100">0 ‚Ç¨ ‚Äì 100 ‚Ç¨</option>
            <option value="100-300">100 ‚Ç¨ ‚Äì 300 ‚Ç¨</option>
            <option value="300+">300 ‚Ç¨ +</option>
        </select>

        <div style="margin-top: 20px;">
            <label>
                <input type="checkbox" id="saleFilter"> Apenas Promo√ß√µes
            </label>
        </div>
    </aside>

    <div>
        <div style="margin-bottom: 30px;">
            <h2 style="font-size: 28px; margin-bottom: 10px;">Sala de Estar</h2>
            <p style="color: #666;">Transforme a sua sala num espa√ßo acolhedor e elegante</p>
            <p id="productCount" style="color: #666; margin-top: 10px;"></p>
        </div>
        <div class="produtos-grid" id="productsGrid">
            <!-- Produtos ser√£o inseridos aqui -->
        </div>
    </div>
</section>

<!-- CART MODAL -->
<div id="cartModal" class="modal">
    <div class="modal-content cart-modal-content">
        <span class="close" id="closeCart">&times;</span>
        <h2>Carrinho de Compras</h2>
        <div id="cartItems"></div>
        <div class="cart-total">
            <strong>Total: ‚Ç¨<span id="cartTotal">0.00</span></strong>
        </div>
        <button class="hero-btn" style="width: 100%; margin-top: 20px;" onclick="window.location.href='checkout.html'">Finalizar Compra</button>
    </div>
</div>

<script src="js/products.js"></script>
<script src="js/cart.js"></script>
<script src="js/auth.js"></script>
<script>
function renderProducts() {
    const grid = document.getElementById('productsGrid');
    const priceFilter = document.getElementById('priceFilter').value;
    const saleFilter = document.getElementById('saleFilter').checked;
    const productCount = document.getElementById('productCount');

    // Filtrar por categoria
    let filtered = products.filter(p => p.category === 'Living Room');

    // Filtrar por pre√ßo
    if (priceFilter !== 'all') {
        if (priceFilter === '0-100') {
            filtered = filtered.filter(p => p.price <= 100);
        } else if (priceFilter === '100-300') {
            filtered = filtered.filter(p => p.price > 100 && p.price <= 300);
        } else if (priceFilter === '300+') {
            filtered = filtered.filter(p => p.price > 300);
        }
    }

    // Filtrar por promo√ß√£o
    if (saleFilter) {
        filtered = filtered.filter(p => p.sale);
    }

    // Atualizar contador
    productCount.textContent = `${filtered.length} produto${filtered.length !== 1 ? 's' : ''}`;

    // Renderizar
    grid.innerHTML = filtered.map(product => `
        <div class="card-produto" onclick="window.location.href='product.html?id=${product.id}'">
            ${product.sale ? '<span class="tag-sale">SALE</span>' : ''}
            <img src="${product.image}" alt="${product.name}">
            <h3>${product.name}</h3>
            <p>‚Ç¨${product.price.toFixed(2)}</p>
        </div>
    `).join('');
}

// Event listeners
document.getElementById('priceFilter').addEventListener('change', renderProducts);
document.getElementById('saleFilter').addEventListener('change', renderProducts);

// Renderizar ao carregar
renderProducts();
</script>

</body>
</html>